// Array de productos
const products = [
  {
    "id": 3,
    "title": "John Hardy Women's Legends Naga Gold & Silver Dragon Station Chain Bracelet",
    "price": 700,
    "description": "De nuestra colección Legends, el Naga se inspiró en el mítico dragón de agua que protege la perla del océano. Úselo mirando hacia adentro para recibir amor y abundancia, o hacia afuera para protección..",
    "category": "Joyeria",
    "image": "https://fakestoreapi.com/img/71pWzhdJNwL._AC_UL640_QL65_ML3_.jpg",
    "rating": {
    "rate": 4.6,
    "count": 400
    }
    },
    {
        "id": 1,
        "title": "Fjallraven - Foldsack No. 1 Backpack, Fits 15 Laptops",
        "price": 109,
        "description": "Tu mochila perfecta para el uso diario y los paseos por el bosque. Guarde su computadora portátil (hasta 15 pulgadas) en la funda acolchada, su uso diario",
        "category": "Ropa de hombre",
        "image": "https://fakestoreapi.com/img/81fPKd-2AYL._AC_SL1500_.jpg",
        "rating": {
        "rate": 3.9,
        "count": 120
        }
        },
        {
        "id": 2,
        "title": "Mens Casual Premium Slim Fit T-Shirts ",
        "price": 22,
        "description": "Estilo ajustado, manga larga raglán en contraste, tapeta henley de tres botones, tejido ligero y suave para un uso cómodo y transpirable. Y camisas con costuras sólidas y cuello redondo hechas para mayor durabilidad y un excelente ajuste para ropa de moda informal y fanáticos acérrimos del béisbol. El escote redondo estilo Henley incluye una tapeta de tres botones.",
        "category": "Ropa de hombre",
        "image": "https://fakestoreapi.com/img/71-3HjGNDUL._AC_SY879._SX._UX._SY._UY_.jpg",
        "rating": {
        "rate": 4.1,
        "count": 259
        }
        },
        {
          "id": 5,
          "title": "WD 2TB Elements Portable External Hard Drive - USB 3.0 ",
          "price": 64,
          "description": "Compatibilidad con USB 3.0 y USB 2.0 Transferencias de datos rápidas Mejora el rendimiento de la PC Alta capacidad; Compatibilidad NTFS formateado para Windows 10, Windows 8.1, Windows 7; Es posible que sea necesario volver a formatear para otros sistemas operativos; La compatibilidad puede variar según la configuración del hardware y el sistema operativo del usuario.",
          "category": "Electronica",
          "image": "https://fakestoreapi.com/img/61IBBVJvSDL._AC_SY879_.jpg",
          "rating": {
          "rate": 3.3,
          "count": 203
          }
          },

        {
        "id": 4,
        "title": "Solid Gold Petite Micropave ",
        "price": 170,
        "description": "Satisfacción garantizada. Devuelva o cambie cualquier pedido dentro de los 30 días. Diseñado y vendido por Hafeez Center en los Estados Unidos.",
        "category": "Joyeria",
        "image": "https://fakestoreapi.com/img/61sbMiUnoGL._AC_UL640_QL65_ML3_.jpg",
        "rating": {
        "rate": 3.9,
        "count": 70
        }
        },
        {
          "id": 8,
          "title": "Lock and Love Women's Removable Hooded Faux Leather Moto Biker Jacket",
          "price": 30,
          "description": "100 % POLIURETANO (cubierta) 100 % POLIÉSTER (forro) 75 % POLIÉSTER 25 % ALGODÓN (SUÉTER), Material de piel sintética para estilo y comodidad / 2 bolsillos delanteros, Chaqueta de piel sintética estilo mezclilla con capucha 2 por uno, Detalle de botones en cintura / Detalle de costuras en los costados, LAVAR SOLAMENTE A MANO / NO USAR LEJÍA / SECAR AL tendedero / NO PLANCHAR",
          "category": "Ropa de mujer",
          "image": "https://fakestoreapi.com/img/81XH0e8fefL._AC_UY879_.jpg",
          "rating": {
          "rate": 2.9,
          "count": 340
          }
          },
        {
        "id": 6,
        "title": "SanDisk SSD PLUS 1TB Internal SSD - SATA III 6 Gb/s",
        "price": 100,
        "description": "Actualización sencilla para un inicio, apagado, carga de aplicaciones y respuesta más rápidos (en comparación con el disco duro SATA de 2,5” de 5400 RPM; basado en especificaciones publicadas y pruebas de evaluación comparativas internas utilizando puntajes PCMark vantage) Aumenta el rendimiento de escritura en ráfaga, lo que lo hace ideal para cargas de trabajo típicas de PC El equilibrio perfecto entre rendimiento y confiabilidad Velocidades de lectura/escritura de hasta 535 MB/s/450 MB/s (según pruebas internas; el rendimiento puede variar según la capacidad de la unidad, el dispositivo host, el sistema operativo y la aplicación).",
        "category": "Electronica",
        "image": "https://fakestoreapi.com/img/61U7T1koQqL._AC_SX679_.jpg",
        "rating": {
        "rate": 2.9,
        "count": 470
        }
        },
        {
        "id": 7,
        "title": "BIYLACLESEN Women's 3-in-1 Snowboard Jacket Winter Coats",
        "price": 57,
        "description": "Las chaquetas son de tamaño estándar de EE. UU., elija la talla que usa habitualmente. Material: 100% poliéster; Tejido del forro desmontable: forro polar cálido. Forro funcional desmontable: agradable al tacto, ligero y cálido. Chaqueta con forro de cuello alto que te mantiene abrigado en climas fríos. Bolsillos con cremallera: 2 bolsillos para las manos con cremallera, 2 bolsillos con cremallera en el pecho (suficiente para guardar tarjetas o llaves) y 1 bolsillo oculto en el interior. Los bolsillos para las manos con cremallera y el bolsillo oculto mantienen sus cosas seguras. Diseño humanizado: capucha ajustable y desmontable y puño ajustable para evitar el viento y el agua, para un ajuste cómodo. El diseño desmontable 3 en 1 brinda más comodidad, puede separar el abrigo y el interior según sea necesario, o usarlos juntos. Es adecuado para diferentes estaciones y le ayuda a adaptarse a diferentes climas.",
        "category": "Ropa de mujer",
        "image": "https://fakestoreapi.com/img/51Y5NI-I5jL._AC_UX679_.jpg",
        "rating": {
        "rate": 2.6,
        "count": 235
        }
        },
    
  ];
  
// Obtener todas las categorías únicas de los productos
const allCategories = Array.from(new Set(products.map(product => product.category)));

// Filtrar productos por categorías seleccionadas
const selectedCategories = allCategories;

const filteredProducts = products.filter(product => selectedCategories.includes(product.category));

// Saludar al usuario y dar la bienvenida a la tienda
alert("Bienvenido a nuestra tienda online. ¡Gracias por elegirnos!");

// Visualizar las categorías de productos disponibles
alert("Categorías de productos disponibles:\n" + allCategories.join("\n"));

// Mostrar lista de productos ordenados por ID y preguntar al usuario qué producto quiere comprar por ID
const sortedProductsById = filteredProducts.slice().sort((a, b) => a.id - b.id);
let selectedProductDetails;

do {
  const selectedProductId = prompt("Lista de productos:\n" + sortedProductsById.map(product => `ID: ${product.id} - ${product.title}`).join("\n") + "\n\nIngrese el ID del producto que desea comprar:");

  // Buscar el producto deseado por ID y mostrar detalles
  selectedProductDetails = sortedProductsById.find(product => product.id === parseInt(selectedProductId));

  if (selectedProductDetails) {
    const confirmation = confirm(`Nombre: ${selectedProductDetails.title}\nDescripción: ${selectedProductDetails.description}\nPrecio: $${selectedProductDetails.price}\n\n¿Desea completar la compra?`);

    if (confirmation) {
      const deliveryDate = new Date();
      deliveryDate.setDate(deliveryDate.getDate() + 7); // Supongamos que la entrega se programará para 7 días después
      alert(`¡Gracias por su compra! La entrega está programada para ${deliveryDate.toLocaleDateString()}.`);
    } else {
      alert("Gracias por visitar nuestra tienda. ¡Hasta pronto!");
    }
  } else {
    const retry = confirm("Producto no encontrado. ¿Desea intentarlo nuevamente?");
    if (!retry) {
      alert("Gracias por visitar nuestra tienda. ¡Hasta pronto!");
      break;
    }
  }
} while (!selectedProductDetails);